<!-- Polymer Imports -->
<link rel="import" href="../polymer/polymer.html" />
<link rel="import" href="../core-scaffold/core-scaffold.html" />
<link rel="import" href="../core-header-panel/core-header-panel.html" />
<link rel="import" href="../core-toolbar/core-toolbar.html" />
<link rel="import" href="../core-menu/core-menu.html" />
<link rel="import" href="../paper-item/paper-item.html" />
<link rel="import" href="../core-pages/core-pages.html" />
<link rel="import" href="page-main.html" />
<link rel="import" href="page-register.html" />

<polymer-element name="app-mms">

<!-- Polymer Element Template-->
<template>
    <style>   
        #design_host {
            position: absolute;
            width: 100%;
            height: 100%;
            box-sizing: border-box;
        }
        #core_scaffold {
            position: absolute;
            top: 0px;
            right: 0px;
            bottom: 0px;
            left: 0px;
        }
        #core_header_panel {
            background-color: rgb(255, 255, 255);
        }
        #core_toolbar {
            background-color: rgb(79, 125, 201);
            color: rgb(255, 255, 255);
        }
        #core_menu {
            font-size: 16px;
        }
        #core_pages {
            width: 100%;
            height: 100%;
            border: 1px solid silver;
            position: absolute;
        }
        #core_pages section {
            margin: 10px;
        }
    </style>
    
    <core-scaffold id="core_scaffold">
        <core-header-panel mode="seamed" id="core_header_panel" flex navigation>
            <core-toolbar id="core_toolbar"></core-toolbar>
            <core-menu valueattr="label" id="core_menu" theme="core-light-theme" on-core-select="{{selectPage}}">
                <!-- Make a TinkerMill icon for the home button -->
                <paper-item id="menu_item_home" label="Home" icon="home" layout center horizontal></paper-item>
                <paper-item id="menu_item_register" label="Register" icon="add-circle" layout center horizontal></paper-item>
                <paper-item id="menu_item_login" label="Login" icon="account-circle" layout center horizontal></paper-item>
            </core-menu>
        </core-header-panel>
        <div id="div" tool>TinkerMill Member Management System (MMS)</div>
        <core-pages selected="0" notap id="core_pages" fit>
            <section id="section-page-main"><page-main></page-main></section>
            <section id="section-page-register"><page-register></page-register></section>
            <section id="section-page-login">Login Page</section>
        </core-pages>
    </core-scaffold>
</template>

<!-- Polymer Element Script -->
<script>
    Polymer( 'app-mms', {
        ready: function() {
        },
        selectPage: function(e, detail) {
            // Selecting a menu item loads a given page
            if (detail.isSelected) {
                var pages = this.$.core_pages;
                switch (detail.item.id)
                {
                case 'menu_item_home':
                    pages.selected = 0;
                    break;
                case 'menu_item_register':
                    pages.selected = 1;
                    break;
                case 'menu_item_login':
                    pages.selected = 2;
                    break;
                default:
                    console.log("unrecognized menu selection");
                    pages.selected = 0;
                }
            }
        }
    });
</script>
</polymer-element>
